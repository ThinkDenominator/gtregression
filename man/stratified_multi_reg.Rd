% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stratified_multi_reg.R
\name{stratified_multi_reg}
\alias{stratified_multi_reg}
\title{Stratified multivariable regression (wide, adjusted; no gtsummary)}
\usage{
stratified_multi_reg(
  data,
  outcome,
  exposures,
  stratifier,
  approach = "logit",
  format = c("gt", "flextable"),
  theme = c("minimal")
)
}
\arguments{
\item{data}{data.frame}

\item{outcome}{character scalar; outcome column name}

\item{exposures}{character vector; predictors included in each model}

\item{stratifier}{character scalar; stratifying variable}

\item{approach}{"logit","log-binomial","poisson","linear","robpoisson","negbin"}

\item{format}{"gt" (default) or "flextable"}

\item{theme}{preset (e.g. "minimal","striped","clinical","shaded","jama")
or primitives c("plain","zebra","lines","labels_bold","compact","header_shaded")}
}
\value{
A list of class \code{c("gtregression","stratified_multi_reg", ...)} with:
\describe{
  \item{table}{A \code{gt_tbl} (format="gt") or \code{flextable} (format="flextable").}
  \item{table_display}{Wide data.frame used to build the table.}
  \item{per_stratum}{Named list of per-stratum results (models/summaries/diagnostics).}
  \item{models, model_summaries, reg_check}{Named lists by stratum.}
  \item{by, levels, approach, format, source}{Metadata fields.}
}
}
\description{
Fits one multivariable model per stratum and returns a unified wide table:
a single "Characteristic" column and, under bold spanners for each stratum,
two columns: "Adjusted <effect>" and "p-value".
}
\details{
The footer shows two lines:
  1) Abbreviations (from `.abbrev_note()`),
  2) Per-stratum complete-case N used in the multivariable model.
}
\examples{
if (requireNamespace("mlbench", quietly = TRUE) &&
  requireNamespace("dplyr", quietly = TRUE)) {
  data(PimaIndiansDiabetes2, package = "mlbench")
  pima <- dplyr::mutate(
    PimaIndiansDiabetes2,
    diabetes = ifelse(diabetes == "pos", 1, 0),
    glucose_cat = dplyr::case_when(
      glucose < 140 ~ "Normal",
      glucose >= 140 ~ "High"
    )
  )
  stratified_multi <- stratified_multi_reg(
    data = pima,
    outcome = "diabetes",
    exposures = c("age", "mass"),
    stratifier = "glucose_cat",
    approach = "logit"
  )
  stratified_multi$table
}

}
